<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://java.sun.com/jsf/core"
      xmlns:tp="http://ifeed.vgregion.com/facelets" xmlns:c="http://java.sun.com/jsp/jstl/core">

<div style="display: inline-block; height: 300px; overflow-y: auto; overflow-x: hidden; width: 100%">
  <p:treeTable value="#{vgrOrganizationsHome.getRoot()}" var="document123" styleClass="rp-table"
               id="selectVgrOrganizationTree">
    <f:facet name="header">
      Välj enhetens Hsa-Id som sökvärde: #{app.newFilter.value}
    </f:facet>
    <p:column headerText="Öppna (genom att klicka på) namnet" id="columnForClickInOrgTable#{app.nextCount()}">

      <h:panelGroup rendered="#{not document123.leaf and not document123.open}">
        <img src="/rp-bootstrap-theme/images/arrows/rp-arrow-right.png"/>
      </h:panelGroup>

      <h:panelGroup rendered="#{not document123.leaf and document123.open}">
        <img src="/rp-bootstrap-theme/images/arrows/rp-arrow-down.png"/>
      </h:panelGroup>

      #{document123.leaf ? document123.getLabel() : ''}

      <p:commandLink update="selectVgrOrganizationTree" title="Öppna"
                     value="#{document123.getLabel()}"
                     ajax="true"
                     rendered="#{not document123.leaf}"
                     actionListener="#{vgrOrganizationsHome.loadChildren(document123)}">
      </p:commandLink>

    </p:column>
    <p:column headerText="Välj (genom att klicka) Hsa-Id" id="select-column">
      <p:commandLink update="selectVgrOrganizationTree" title="Välj"
                     value="#{document123.getHsaIdentity()}"
                     ajax="true"
                     actionListener="#{app.newFilter.setValue(document123.getHsaIdentity())}">
      </p:commandLink>
    </p:column>
  </p:treeTable>
</div>

</html>