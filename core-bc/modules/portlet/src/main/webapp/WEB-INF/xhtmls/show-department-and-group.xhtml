<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html" xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:aui="http://liferay.com/faces/aui"
                xmlns:portlet="http://java.sun.com/portlet_2_0">

  <h:outputText
          styleOld="font-weight: bold;background-color: rgb(40, 101, 173); color:white;"
          style="font-weight: bold;"
          styleClassOld="ltr-flowing-item ifeed-border"
          value="Förvaltning / Grupp: "/>

  <h:panelGroup id="viewIfeedDepartmentAndGroup" rendered="#{app.isInEditMode()}">
    <h:selectOneMenu style="text-align:left;"
                     converter="departmentConverter"
                     update="viewIfeedDepartmentAndGroup"
                     ajax="true"
                     id="selectGovernanceForDetails"
                     rendered="#{app.isInEditMode()}"
                     immediate="true"
                     value="#{iFeedModelBean.department}">
      <f:selectItem itemLabel="-" itemValue="#{null}"/>
      <f:selectItems value="#{app.getVgrDepartments()}"
                     var="i" itemLabel="#{i.name}" itemValue="#{i}"/>
      <f:ajax render="viewIfeedDepartmentAndGroup" />
    </h:selectOneMenu>
    <h:outputText value="/"/>
    <h:selectOneMenu style="text-align:left;"
                     converter="groupConverter"
                     update="viewIfeedDepartmentAndGroup"
                     ajax="true"
                     rendered="#{iFeedModelBean.department != null and app.isInEditMode()}"
                     value="#{iFeedModelBean.group}">
      <f:selectItem itemLabel="-" itemValue="#{null}"/>
      <f:selectItems value="#{iFeedModelBean.department.vgrGroups}"
                     var="i" itemLabel="#{i.name}" itemValue="#{i}"/>
      <f:ajax render="viewIfeedDepartmentAndGroup" />
    </h:selectOneMenu>
  </h:panelGroup>


  <!--<p:commandLink value="Ändra Förvaltning / Grupp: " update=":ifeed_view"
                 style="font-weight: bold;"
                 rendered="#{app.inEditMode}"
                 ajax="false" async="true" actionListener="#{app.setSelectableDepartments(app.getVgrDepartments())}">
  </p:commandLink>

  <h:outputText
          rendered="#{iFeedModelBean.department == null}"
          value="Ingen förvaltning är vald"/>
-->

  <h:panelGroup rendered="#{!app.isInEditMode()}">
    <h:outputText
            rendered="#{iFeedModelBean.group != null and !app.isInEditMode()}"
            value="#{iFeedModelBean.group.name}"/>
    <h:outputText value="/"/>
    <h:outputText
            rendered="#{iFeedModelBean.department != null and !app.isInEditMode()}"
            value="#{iFeedModelBean.department.name}"/>
  </h:panelGroup>

  <!--  <h:outputText
            rendered="#{iFeedModelBean.group == null}"
            value="Ingen grupp är vald"/>-->

</ui:composition>