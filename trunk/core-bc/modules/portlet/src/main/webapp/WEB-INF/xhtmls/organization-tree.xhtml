<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://java.sun.com/jsf/core"
      xmlns:tp="http://ifeed.vgregion.com/facelets" xmlns:c="http://java.sun.com/jsp/jstl/core">

  <p:treeTable value="#{vgrOrganizationsHome.getRoot()}" var="document" styleClass="rp-table" id="selectVgrOrganizationTree">
    <f:facet name="header">
      Välj enhetens Hsa-Id som sökvärde: #{app.newFilter.value}
    </f:facet>
    <p:column headerText="Öppna (genom att klicka på) namnet">
      <p:commandLink update="selectVgrOrganizationTree" title="Öppna"
                     value="#{document.getLabel()}"
                     ajax="true"
                     rendered="#{document.leaf == true or document.leaf == null}"
                     actionListener="#{vgrOrganizationsHome.loadChildren(document)}">
      </p:commandLink>
      #{document.leaf == false ? document.getLabel() : ''}
    </p:column>
    <p:column headerText="Välj (genom att klicka) Hsa-Id">
      <p:commandLink update="selectVgrOrganizationTree" title="Välj"
                     value="#{document.getHsaIdentity()}"
                     ajax="true"
                     actionListener="#{app.newFilter.setValue(document.getHsaIdentity())}">
      </p:commandLink>
    </p:column>
  </p:treeTable>

</html>