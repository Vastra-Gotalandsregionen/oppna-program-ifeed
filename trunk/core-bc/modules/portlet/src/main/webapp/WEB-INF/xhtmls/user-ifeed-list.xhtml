<?xml version="1.0" encoding="UTF-8"?>

<f:view xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://java.sun.com/jsf/html" xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:p="http://primefaces.org/ui" xmlns:f="http://java.sun.com/jsf/core"
        xmlns:portlet="http://java.sun.com/portlet_2_0">

  <h2>Administrera dokumentflöden</h2>
  <h:outputText value="Välkommen till iFeed Manager. Här kan du skapa och administrera dokumentpubliceringar.
            Innehållet i dokumentpubliceringen styrs av vilka metadata man valt att filtrera på.
            Det val man gjort sparas som ett feed, länken till feedet kan användas för att t.ex visa listan på intranätet,
             internet eller regionportalen. Man måste spara sina ändringar innan dom slår igenom i feedet."></h:outputText>

  <br></br> <br></br>

  <p:commandLink style="float: right;"
                 actionListener="#{app.goToAddIfeed()}"
                 styleClass="rp-link-button rp-link-button-alt" value="Lägg till iFeed"
                 update="ifeed_view" ajax="true" async="true"/>

  <p:commandLink style="float: right;"
                 actionListener="#{navigationModelBean.setUiNavigation('ADMIN_DEPARTMENTS')}"
                 styleClass="rp-link-button rp-link-button-alt" value="Förvalta förvaltningar"
                 rendered="#{app.isSuperUser()}"
                 update="ifeed_view" ajax="true" async="true"/>

  <p:commandLink style="float: right;"
                 actionListener="#{navigationModelBean.setUiNavigation('FIELD_CONFIG')}"
                 styleClass="rp-link-button rp-link-button-alt" value="Fältinställningar"
                 rendered="#{app.isSuperUser()}"
                 update="ifeed_view" ajax="true" async="true"/>

  <p:commandLink style="float: right;"
                 styleClass="rp-link-button rp-link-button-alt" value="Rensa filter"
                 actionListener="#{app.clearFilter()}"
                 update="ifeed_view" ajax="false" async="true"/>

  <p:commandLink
          actionListener="#{app.setFilterUserId(app.getCurrentUser().getScreenName())}"
          update=":ifeed_view"
          ajax="false"
          value="Visa mina"
          styleClass="rp-link-button rp-link-button-alt"
          async="true">
  </p:commandLink>

  <p:commandLink
          actionListener="#{app.setFilterUserId(null)}"
          update=":ifeed_view"
          ajax="false"
          value="Visa alla"
          styleClass="rp-link-button rp-link-button-alt"
          async="true">
  </p:commandLink>


  <br></br> <br></br>

  <p:outputPanel>
    <p:ajaxStatus style="width:35px;height:35px;" id="ajaxStatusPanel">
      <f:facet name="start">
        <h:graphicImage value="http://www.meetgadget.com/images/loading.gif"/>
      </f:facet>

      <f:facet name="complete">
        <h:outputText value=""/>
      </f:facet>
    </p:ajaxStatus>

  </p:outputPanel>

  <ui:include src="list.xhtml"/>

</f:view>