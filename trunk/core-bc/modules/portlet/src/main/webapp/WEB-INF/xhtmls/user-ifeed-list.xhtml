<?xml version="1.0" encoding="UTF-8"?>

<f:view xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://java.sun.com/jsf/html" xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:p="http://primefaces.org/ui" xmlns:f="http://java.sun.com/jsf/core"
        xmlns:aui="http://liferay.com/faces/aui"
        xmlns:portlet="http://java.sun.com/portlet_2_0">

    <div class="container-fluid">
        <div class="row-fluid">
            <div class="span12 first last">
                <h1>Administrera dokumentflöden</h1>
            </div>
        </div>
        <div class="row-fluid">
            <div class="span6 first">
                <h:outputText value="Välkommen till iFeed Manager. Här kan du skapa och administrera dokumentpubliceringar.
            Innehållet i dokumentpubliceringen styrs av vilka metadata man valt att filtrera på.
            Det val man gjort sparas som ett feed, länken till feedet kan användas för att t.ex visa listan på intranätet,
             internet eller regionportalen. Man måste spara sina ändringar innan dom slår igenom i feedet."></h:outputText>
            </div>
            <div class="span6 last">
                <div class="clearfix">

                    <p:commandLink actionListener="#{navigationModelBean.setUiNavigation('ADMIN_DEPARTMENTS')}"
                                   styleClass="rp-link-button" value="#{app.isSuperUser() ? 'Ändra förvaltningar' : 'Ändra grupper'}"
                                   update=":ifeed_view" ajax="true" async="true"/>

                    <p:commandLink actionListener="#{navigationModelBean.setUiNavigation('FIELD_CONFIG')}"
                                   styleClass="rp-link-button" value="Fältinställningar"
                                   rendered="#{app.isSuperUser()}"
                                   update=":ifeed_view" ajax="true" async="true"/>

                    <p:commandLink actionListener="#{app.goToAddIfeed()}"
                                   styleClass="rp-link-button rp-link-button-alt" value="Lägg till iFeed"
                                   update=":ifeed_view" ajax="true" async="true"/>

                </div>
            </div>
        </div>
        <div class="row-fluid">
            <div class="span12 first last">
                <aui:button-row>
                    <p:commandLink
                            styleClass="rp-link-button" value="Rensa filter"
                            actionListener="#{app.clearFilter()}"
                            update=":ifeed_view" ajax="false" async="true"/>

                    <p:commandLink
                            actionListener="#{app.setFilterUserId(app.getCurrentUser().getScreenName())}"
                            update="::ifeed_view"
                            ajax="false"
                            value="Visa mina"
                            styleClass="rp-link-button"
                            async="true">
                    </p:commandLink>

                    <p:commandLink
                            actionListener="#{app.setFilterUserId(null)}"
                            update="::ifeed_view"
                            ajax="false"
                            value="Visa alla"
                            styleClass="rp-link-button"
                            async="true">
                    </p:commandLink>
                </aui:button-row>

                <ui:include src="list.xhtml"/>

            </div>
        </div>
    </div>

</f:view>